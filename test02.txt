-- Throw(tag : Tag⟦a, b⟧)(x : a) : b
-- Catch(tag : Tag⟦a, b⟧, f : () ⟶ c)(g : a ⟶ (b ⟶ c) ⟶ c) : c
-- Unreachable : a
-- Exit : Output

unit Box⟦t⟧

  new E = Escape⟦(), t⟧

  With⟦a⟧(x : t)(f : () ⟶ a) : a
    E.Catch(f)(C(x))

  C⟦a⟧(x : t)()(f : t ⟶ a) : a
    f(x)

  Get : t
    E.Throw()

new E = Escape⟦(), Bool⟧

sum Bool
  False
  True

Main : Output
  E.Catch(F)(G)

F() : Output
  bind _ to E.Throw()
  Exit

G()(f : Bool ⟶ Output) : Output
  f(True)

-- sum List⟦a⟧
--   Nil
--   Cons(a, List⟦a⟧)
